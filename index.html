<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* Background pop-in */
.popin {
  display: none;
  position: fixed;
  z-index: 1;
  padding-top: 100px; 
  left: 0;
  top: 0;
  width: 100%; 
  height: 100%;
  overflow: auto; 
  background-color: rgb(0,0,0); 
  background-color: rgba(0,0,0,0.4); 
}

/* Style de la pop-in */
.popin-style {
  background-color: #FFFFFF;
  margin: auto;
  padding: 20px;
  border: 1px solid #529D93;
  width: 35%;
}

/* Bouton fermer */
.fermer {
  color: #3f3f3f;
  float: right;
  font-size: 40px;
  font-weight: bold;
}

.bob-style
{
    width: 50%;
    height: auto;
    display: block;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}

.fermer:hover,
.fermer:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
</style>
</head>
<body>

<h2>Exemple de Pop-in</h2>


<button id="monBouton">Qui sommes nous ?</button>


<div id="maPopin" class="popin">


  <div class="popin-style">
    <span class="fermer">&times;</span>
    <p>Cet objectif a été réalisé par Guillaume et Nicolas... Alias Bob et Patrick </p>
    <img src="Ressource/bob.png" class="bob-style">
    <label for="email">Veuillez saisir votre email :</label>
      <input  type="text" name="email" id="mail" placeholder="Email..." onblur="verifMail(this)">
    <button type="submit" onclick="surline()">Envoyer</button>
    <p id="messageErreur"></p>
  </div>

</div>

<script>

var modal = document.getElementById('maPopin');


var btn = document.getElementById("monBouton");


var span = document.getElementsByClassName("fermer")[0];

var champ = document.getElementById("mail");

var erreur = true;


btn.onclick = function() {
  modal.style.display = "block";
}


span.onclick = function() {
  modal.style.display = "none";
}


window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

function verifMail(champ)
{
   var regex = /^[a-zA-Z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/;
   if(!regex.test(champ.value))
   {
      surligne(champ, true);
      return false;
   }
   else
   {
      surligne(champ, false);
      return true;
   }
   
}

function surligne(champ, erreur)
{
   if(erreur)
   {
      champ.style.backgroundColor = "#fba";
      document.getElementById("messageErreur").innerHTML = "Adresse email incorrecte";
   } 
    
   else
   {
      champ.style.backgroundColor = "";
      document.getElementById("messageErreur").innerHTML = "";
   }
   
}



// function message()
// {
//   document.getElementById("messageErreur").innerHTML = "Adresse email incorrecte";
// }

</script>

</body>
</html>
